@page "/newHabit"

<section class="newhabit">
    <div class="container">
        <div class="content">
            <div class="header">
                <h2 class="page-title">
                    Ready to start your<br /><span class="highlight-text">100 Days?</span>
                </h2>
            </div>
            
            <div class="content-wrapper">
                <form action="/" method="post">
                    <div class="name">
                        <h5><label>My name is</label></h5>
                        <input @bind="name" type="text" name="name" placeholder="Name" />
                    </div>
                    <div class="goal">
                        <h5><label>I want to</label></h5>
                        <input @bind="habitName" name="goal" placeholder="Stop Smoking" />
                    </div>
                    <div class="weekdays">
                        <h5><label>I will do this every</label></h5>
                        <div class="input-wrapper">
                            <div class="day">
                                <input type="checkbox" class="goal-days" id="monday" />
                                <label class="label-days" for="monday">Mon</label>
                            </div>
                            <div class="day">
                                <input type="checkbox" class="goal-days" id="tuesday" />
                                <label class="label-days" for="tuesday">Tue</label>
                            </div>
                            <div class="day">
                                <input type="checkbox" class="goal-days" id="wednesday" />
                                <label class="label-days" for="wednesday">Wed</label>
                            </div>
                            <div class="day">
                                <input type="checkbox" class="goal-days" id="thursday" />
                                <label class="label-days" for="thursday">Thu</label>
                            </div>
                            <div class="day">
                                <input type="checkbox" class="goal-days" id="friday" />
                                <label class="label-days" for="friday">Fri</label>
                            </div>
                            <div class="day">
                                <input type="checkbox" class="goal-days" id="saturday" />
                                <label class="label-days" for="saturday">Sat</label>
                            </div>
                            <div class="day">
                                <input type="checkbox" class="goal-days" id="sunday" />
                                <label class="label-days" for="sunday">Sun</label>
                            </div>
                        </div>

                    </div>
                    <button href="/index" type="submit" class="btn-primary" @onclick="CreateHabit">Start my 100 days</button>
                </form>
            </div>
        </div>
    </div>
</section>

@*<div class="box">
    <a href="#divOne" class="popup-button">Click me!</a>
</div> 

<div class="test-overlay" id="divOne">
    <div class="test-wrapper">
        
    </div>
</div>*@

<button class="open-button" onclick="openSharePopOut()">Open Share Pop up</button>

<div class="share-popup" id="sharePopout">
    <div class="wrapper">

    
        <h5>Confirm Your Day</h5>
        <p class="small">Double check your selection, once you save your day you cannot go back and change it.</p>

        <p class="xsmall">Successful day:</p>
        <p class="small">"User Input"</p>

        <p class="xsmall">Day Rating:</p>
        <p class="small">"Star Rating</p>

        <p class="xsmall">Notes:</p>
        <p class="small">"User Input"</p>

        <label><input type="checkbox"/>Post day on Law of 100 public timeline</label>

        <button type="button" onclick="openSharePopOut()">Confirm & Save</button>
        <button type="button" onclick="closeSharePopOut()">Cancel</button>
    </div>
</div>



@code {
    public string? habitName { get; set; }
    public string? name { get; set; }
    public string? selectday { get; set; }
    string? Habit;
    public ICollection<Habit>? SelectedDay;

    async Task CreateHabit()
    {
        Habit = await PublicApi().CreateHabitAsync(new CreateHabitRequest { HabitName = habitName, RepeatEveryXHours = 24 });
    }
}
