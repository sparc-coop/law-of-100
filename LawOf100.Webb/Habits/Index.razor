@page "/habits/create"
@page "/habits/{HabitId}"

@if (HabitId == null)
{
    <CreateHabit />
}

@if (TheHabit?.Id != null)
{
    <section class="habit-index">
        <h6>100 days to</h6>
        <h3>@TheHabit.HabitName</h3>
        <DayGrid Days="TheHabit.Progressions" />

        <button class="secondary-button open-button" onclick="openSharePopOut()">Open Share Pop up</button>
    </section>

    <div class="share-overlay" id="overlayPopout"></div>
    <div class="share-popup" id="sharePopout">
        <EntryDay />
    </div>

}


@code {
    [Parameter] public string? HabitId { get; set; }
    Habit? TheHabit { get; set; }

    protected override async Task OnParametersSetAsync()
    {
        if (HabitId != null)
            TheHabit = await PublicApi().GetHabitAsync(HabitId);
    }
}
